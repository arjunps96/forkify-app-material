!function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}!function(){var t={};!function(e){for(var n=Object.keys(e),r=0;r<n.length;r++)t[n[r]]=e[n[r]]}(JSON.parse('{"a10455d1fbf72c27":"controller.fd3f414b.js","2c14bf8f7e61d609":"icons.c781f215.svg"}'));var n,r,o=null,i=function(e){var n=t[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n};function a(e){if(""===e)return".";var t="/"===e[e.length-1]?e.slice(0,e.length-1):e,n=t.lastIndexOf("/");return-1===n?".":t.slice(0,n)}function c(e,t){if(e===t)return"";var n=e.split("/");"."===n[0]&&n.shift();var r,o,i=t.split("/");for("."===i[0]&&i.shift(),r=0;(r<i.length||r<n.length)&&null==o;r++)n[r]!==i[r]&&(o=r);var a=[];for(r=0;r<n.length-o;r++)a.push("..");return i.length>o&&a.push.apply(a,i.slice(o)),a.join("/")}function u(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,c,"next",e)}function c(e){u(i,r,o,a,c,"throw",e)}a(void 0)}))}}(r=function(e,t){return c(a(i(e)),i(t))})._dirname=a,r._relative=c,o||(o=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return(""+e[0]).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}()),n=o+r("a10455d1fbf72c27","2c14bf8f7e61d609");var l=function(e){return new Promise((function(t,n){setTimeout((function(){n(new Error("Request took too long! Timeout after ".concat(e," second")))}),1e3*e)}))},f=function(){var e=s(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.race([fetch(t),l(10)]);case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,n.ok){e.next=9;break}throw new error("Something went wrong");case 9:return e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=s(regeneratorRuntime.mark((function e(t,n){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),e.next=4,Promise.race([r,l(10)]);case 4:return o=e.sent,e.next=7,o.json();case 7:if(i=e.sent,o.ok){e.next=10;break}throw new Error("".concat(i.message));case 10:return e.abrupt("return",i);case 13:throw e.prev=13,e.t0=e.catch(0),console.log(e.t0.message),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}();function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){v(i,r,o,a,c,"next",e)}function c(e){v(i,r,o,a,c,"throw",e)}a(void 0)}))}}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g,_={receipe:{},search:{query:"",page:1,resultsPerPage:10,results:[]},bookmark:[]},w=function(e){var t=e.data.recipe;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:t.id,publisher:t.publisher,time:t.cooking_time,serving:t.servings,sourceURL:t.source_url,ingredients:t.ingredients,img:t.image_url,title:t.title},t.key&&{key:t.key})},k=function(){var e=y(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("https://forkify-api.herokuapp.com/api/v2/recipes/").concat(t,"?key=").concat("bd127bf6-1cab-4391-81fb-c71127e18cb4"),e.next=4,f(n);case 4:r=e.sent,_.receipe=w(r),_.bookmark.some((function(e){return e.id===t}))&&(_.receipe.bookmarked=!0),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=y(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("".concat("https://forkify-api.herokuapp.com/api/v2/recipes/","?search=").concat(t,"&key=").concat("bd127bf6-1cab-4391-81fb-c71127e18cb4"));case 3:n=e.sent,_.search.results=n.data.recipes.map((function(e){return{id:e.id,publisher:e.publisher,img:e.image_url,title:e.title}})),_.search.page=1,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.search.page;_.search.page=e;var t=(e-1)*_.search.resultsPerPage,n=e*_.search.resultsPerPage;return _.search.results.slice(t,n)},j=function(){localStorage.setItem("bookmarks",JSON.stringify(_.bookmark))},P=function(e){_.bookmark.push(e),e.id===_.receipe.id&&(_.receipe.bookmarked=!0),j()};(g=localStorage.getItem("bookmarks"))&&(_.bookmark=JSON.parse(g));var E,R,x=function(){var e=y(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object.entries(t).filter((function(e){return e[0].startsWith("ingredient")&&""!==e[1]})).map((function(e){var t=e[1].split(",").map((function(e){return e.trim()}));if(3!==t.length)throw new Error("Invalid receipe format!Please use the correct format");var n=d(t,3),r=n[0];return{quantity:r?+r:null,unit:n[1],description:n[2]}})),r={title:t.title,source_url:t.sourceUrl,image_url:t.image,publisher:t.publisher,cooking_time:+t.cookingTime,servings:+t.servings,ingredients:n},e.next=5,p("".concat("https://forkify-api.herokuapp.com/api/v2/recipes/","?key=").concat("bd127bf6-1cab-4391-81fb-c71127e18cb4"),r);case 5:o=e.sent,_.receipe=w(o),P(_.receipe),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();Fraction=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){if(void 0!==e&&t)"number"==typeof e&&"number"==typeof t?(this.numerator=e,this.denominator=t):"string"==typeof e&&"string"==typeof t&&(this.numerator=parseInt(e),this.denominator=parseInt(t));else if(void 0===t)if(num=e,"number"==typeof num)this.numerator=num,this.denominator=1;else if("string"==typeof num){var n,r,o=num.split(" ");if(o[0]&&(n=o[0]),o[1]&&(r=o[1]),n%1==0&&r&&r.match("/"))return new Fraction(n).add(new Fraction(r));if(!n||r)return;if("string"==typeof n&&n.match("/")){var i=n.split("/");this.numerator=i[0],this.denominator=i[1]}else{if("string"==typeof n&&n.match("."))return new Fraction(parseFloat(n));this.numerator=parseInt(n),this.denominator=1}}this.normalize()})),Fraction.prototype.clone=function(){return new Fraction(this.numerator,this.denominator)},Fraction.prototype.toString=function(){if("NaN"===this.denominator)return"NaN";var e=this.numerator/this.denominator>0?Math.floor(this.numerator/this.denominator):Math.ceil(this.numerator/this.denominator),t=this.numerator%this.denominator,n=this.denominator,r=[];return 0!=e&&r.push(e),0!=t&&r.push((0===e?t:Math.abs(t))+"/"+n),r.length>0?r.join(" "):0},Fraction.prototype.rescale=function(e){return this.numerator*=e,this.denominator*=e,this},Fraction.prototype.add=function(e){var t=this.clone();return e=e instanceof Fraction?e.clone():new Fraction(e),td=t.denominator,t.rescale(e.denominator),e.rescale(td),t.numerator+=e.numerator,t.normalize()},Fraction.prototype.subtract=function(e){var t=this.clone();return e=e instanceof Fraction?e.clone():new Fraction(e),td=t.denominator,t.rescale(e.denominator),e.rescale(td),t.numerator-=e.numerator,t.normalize()},Fraction.prototype.multiply=function(e){var t=this.clone();if(e instanceof Fraction)t.numerator*=e.numerator,t.denominator*=e.denominator;else{if("number"!=typeof e)return t.multiply(new Fraction(e));t.numerator*=e}return t.normalize()},Fraction.prototype.divide=function(e){var t=this.clone();if(e instanceof Fraction)t.numerator*=e.denominator,t.denominator*=e.numerator;else{if("number"!=typeof e)return t.divide(new Fraction(e));t.denominator*=e}return t.normalize()},Fraction.prototype.equals=function(e){e instanceof Fraction||(e=new Fraction(e));var t=this.clone().normalize();return e=e.clone().normalize(),t.numerator===e.numerator&&t.denominator===e.denominator},Fraction.prototype.normalize=(E=function(e){return"number"==typeof e&&(e>0&&e%1>0&&e%1<1||e<0&&e%-1<0&&e%-1>-1)},R=function(e,t){if(t){var n=Math.pow(10,t);return Math.round(e*n)/n}return Math.round(e)},function(){if(E(this.denominator)){var e=R(this.denominator,9),t=Math.pow(10,e.toString().split(".")[1].length);this.denominator=Math.round(this.denominator*t),this.numerator*=t}E(this.numerator)&&(e=R(this.numerator,9),t=Math.pow(10,e.toString().split(".")[1].length),this.numerator=Math.round(this.numerator*t),this.denominator*=t);var n=Fraction.gcf(this.numerator,this.denominator);return this.numerator/=n,this.denominator/=n,(this.numerator<0&&this.denominator<0||this.numerator>0&&this.denominator<0)&&(this.numerator*=-1,this.denominator*=-1),this}),Fraction.gcf=function(e,t){var n=[],r=Fraction.primeFactors(e),o=Fraction.primeFactors(t);return r.forEach((function(e){var t=o.indexOf(e);t>=0&&(n.push(e),o.splice(t,1))})),0===n.length?1:function(){var e,t=n[0];for(e=1;e<n.length;e++)t*=n[e];return t}()},Fraction.primeFactors=function(e){for(var t=Math.abs(e),n=[],r=2;r*r<=t;)t%r==0?(n.push(r),t/=r):r++;return 1!=t&&n.push(t),n};var M=Fraction;function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A,q=(A=n)&&A.__esModule?A.default:A,H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),T(this,"_data",void 0),T(this,"_message","Your Recipe has been added successfully"),T(this,"showSpinner",(function(){var e='<div class="spinner">\n    <svg>\n      <use href="'.concat(q,'#icon-loader"></use>\n    </svg>\n  </div>');this._parentEl.innerHTML="",this._parentEl.insertAdjacentHTML("afterbegin",e)}))}var t,n;return t=e,(n=[{key:"render",value:function(e){if(this._data=e,!e||Array.isArray(e)&&0===e.length)return this.renderErorrMessage();var t=this._generateMarkup();this._clear(),this._parentEl.insertAdjacentHTML("afterbegin",t)}},{key:"update",value:function(e){this._data=e;var t=this._generateMarkup(),n=document.createRange().createContextualFragment(t),r=Array.from(n.querySelectorAll("*")),o=Array.from(this._parentEl.querySelectorAll("*"));r.forEach((function(e,t){var n,r=o[t];e.isEqualNode(r)||""===(null===(n=e.firstChild)||void 0===n?void 0:n.nodeValue.trim())||(r.textContent=e.textContent),e.isEqualNode(r)||Array.from(e.attributes).forEach((function(e){r.setAttribute(e.name,e.value)}))}))}},{key:"renderErorrMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._errorMessage,t='\n    <div class="error">\n            <div>\n              <svg>\n                <use href="'.concat(q,'#icon-alert-triangle"></use>\n              </svg>\n            </div>\n            <p>').concat(e,"</p>\n    </div>\n    ");this._clear(),this._parentEl.insertAdjacentHTML("afterbegin",t)}},{key:"renderMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._message,t='\n      <div class="message">\n        <div>\n          <svg>\n            <use href="'.concat(q,'#icon-smile"></use>\n          </svg>\n        </div>\n        <p>').concat(e,"</p>\n      </div>\n    ");this._clear(),this._parentEl.insertAdjacentHTML("afterbegin",t)}},{key:"_clear",value:function(){this._parentEl.innerHTML=""}}])&&F(t.prototype,n),e}();function L(t){return(L="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(o,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W(this,n)}}(o);function o(){var e;D(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return z(N(e=r.call.apply(r,[this].concat(n))),"_parentEl",document.querySelector(".recipe")),z(N(e),"_errorMessage","We couldnt find any items"),e}return t=o,(n=[{key:"addHandlerReceipe",value:function(e){["hashchange","load"].forEach((function(t){return window.addEventListener(t,e)}))}},{key:"_generateMarkup",value:function(){return'<figure class="recipe__fig">\n      <img src="'.concat(this._data.img,'" alt="').concat(this._data.img,'" class="recipe__img" />\n      <h1 class="recipe__title">\n        <span>').concat(this._data.title,'</span>\n      </h1>\n    </figure>\n  \n    <div class="recipe__details">\n      <div class="recipe__info">\n        <svg class="recipe__info-icon">\n          <use href="').concat(q,'#icon-clock"></use>\n        </svg>\n        <span class="recipe__info-data recipe__info-data--minutes">').concat(this._data.time,'</span>\n        <span class="recipe__info-text">minutes</span>\n      </div>\n      <div class="recipe__info">\n        <svg class="recipe__info-icon">\n          <use href="').concat(q,'#icon-users"></use>\n        </svg>\n        <span class="recipe__info-data recipe__info-data--people">').concat(this._data.serving,'</span>\n        <span class="recipe__info-text">servings</span>\n  \n        <div class="recipe__info-buttons">\n          <button class="btn--tiny btn--increase-servings" data-update="').concat(this._data.serving-1,'">\n            <svg>\n              <use href="').concat(q,'#icon-minus-circle"></use>\n            </svg>\n          </button>\n          <button class="btn--tiny btn--increase-servings" data-update="').concat(this._data.serving+1,'">\n            <svg>\n              <use href="').concat(q,'#icon-plus-circle"></use>\n            </svg>\n          </button>\n        </div>\n      </div>\n  \n      <div class="recipe__user-generated ').concat(this._data.key?"":"hidden",'">\n        <svg>\n          <use href="').concat(q,'#icon-user"></use>\n        </svg>\n      </div>\n      <button class="btn--round btn--bookmark">\n        <svg class="">\n          <use href=\'').concat(q,"#icon-bookmark").concat(this._data.bookmarked?"-fill":"",'\'></use>\n        </svg>\n      </button>\n    </div>\n  \n    <div class="recipe__ingredients">\n      <h2 class="heading--2">Recipe ingredients</h2>\n      <ul class="recipe__ingredient-list">\n        ').concat(this._data.ingredients.map((function(e){return'\n          <li class="recipe__ingredient">\n          <svg class="recipe__icon">\n            <use href="'.concat(q,'#icon-check"></use>\n          </svg>\n          <div class="recipe__quantity">').concat(e.quantity?new M(e.quantity).toString():"",'</div>\n          <div class="recipe__description">\n            <span class="recipe__unit">').concat(e.unit,"</span>\n            ").concat(e.description,"\n          </div>\n        </li>\n          ")})).join(""),'\n        \n  \n        <li class="recipe__ingredient">\n          <svg class="recipe__icon">\n            <use href="').concat(q,'#icon-check"></use>\n          </svg>\n          \n        </li>\n      </ul>\n    </div>\n  \n    <div class="recipe__directions">\n      <h2 class="heading--2">How to cook it</h2>\n      <p class="recipe__directions-text">\n        This recipe was carefully designed and tested by\n        <span class="recipe__publisher">').concat(this._data.publisher,'</span>. Please check out\n        directions at their website.\n      </p>\n      <a\n        class="btn--small recipe__btn"\n        href="').concat(this._data.sourceURL,'"\n        target="_blank"\n      >\n        <span>Directions</span>\n        <svg class="search__icon">\n          <use href="').concat(q,'#icon-arrow-right"></use>\n        </svg>\n      </a>\n    </div> ')}},{key:"addHandlerUpdateServings",value:function(e){this._parentEl.addEventListener("click",(function(t){var n=t.target.closest(".btn--increase-servings");if(n){var r=+n.dataset.update;r>0&&e(r)}}))}},{key:"addHandlerBookmark",value:function(e){this._parentEl.addEventListener("click",(function(t){t.target.closest(".btn--bookmark")&&e()}))}}])&&C(t.prototype,n),o}(H));function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var Q=new WeakMap,V=new WeakSet,Y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),V.add(this),Q.set(this,{writable:!0,value:document.querySelector(".search")})}var t,n;return t=e,(n=[{key:"getQuery",value:function(){var e=$(this,Q).querySelector(".search__field").value;return function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(this,V,G).call(this),e}},{key:"addHandlerSearch",value:function(e){$(this,Q).addEventListener("submit",(function(t){t.preventDefault(),e()}))}}])&&J(t.prototype,n),e}(),G=function(){$(this,Q).querySelector(".search__field").value=""},K=new Y;function X(t){return(X="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?re(e):t}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(o,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe(e);if(t){var o=oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne(this,n)}}(o);function o(){var e;Z(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return ie(re(e=r.call.apply(r,[this].concat(n))),"_parentEl",document.querySelector(".results")),ie(re(e),"_errorMessage","Sorry!No receipes found for your search"),e}return t=o,(n=[{key:"_generateMarkup",value:function(){var e=this;return this._data.map((function(t){return e._generateMarkupPreview(t)}))}},{key:"_generateMarkupPreview",value:function(e){var t=document.location.hash.slice(1);return console.log(t),'<li class="preview">\n      <a class="preview__link" '.concat(e.id===t?"preview__link--active":""," href='#").concat(e.id,'\'>\n        <figure class="preview__fig">\n          <img src="').concat(e.img,'" alt="Test" />\n        </figure>\n        <div class="preview__data">\n          <h4 class="preview__title">').concat(e.title,'</h4>\n          <p class="preview__publisher">').concat(e.publisher,'</p>\n          <div class="preview__user-generated ').concat(this._data.key?"":"hidden",'">\n            <svg>\n              <use href="').concat(q,'#icon-user"></use>\n            </svg>\n          </div>\n        </div>\n      </a>\n    </li>')}}])&&ee(t.prototype,n),o}(H));function ce(t){return(ce="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?pe(e):t}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(o,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fe(this,n)}}(o);function o(){var e;ue(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return he(pe(e=r.call.apply(r,[this].concat(n))),"_parentEl",document.querySelector(".pagination")),e}return t=o,(n=[{key:"_generateMarkup",value:function(){var e=this._data.page,t=Math.ceil(this._data.results.length/this._data.resultsPerPage);return 1===e&&t>1?"<button data-goto=".concat(e+1,' class="btn--inline pagination__btn--next">\n    <span>Page ').concat(e+1,'</span>\n    <svg class="search__icon">\n      <use href="').concat(q,'#icon-arrow-right"></use>\n    </svg>\n  </button>'):e===t&&t>1?"<button data-goto=".concat(e-1,' class="btn--inline pagination__btn--prev">\n    <svg class="search__icon">\n      <use href="').concat(q,'#icon-arrow-left"></use>\n    </svg>\n    <span>Page ').concat(e-1,"</span>\n  </button>"):e<t?"\n    <button data-goto=".concat(e+1,' class="btn--inline pagination__btn--next">\n      <span>Page ').concat(e+1,'</span>\n      <svg class="search__icon">\n        <use href="').concat(q,'#icon-arrow-right"></use>\n      </svg>\n    </button>\n      \n  <button data-goto=').concat(e-1,' class="btn--inline pagination__btn--prev">\n    <svg class="search__icon">\n      <use href="').concat(q,'#icon-arrow-left"></use>\n    </svg>\n    <span>Page ').concat(e-1,"</span>\n  </button>"):""}},{key:"addHandlerClick",value:function(e){this._parentEl.addEventListener("click",(function(t){var n=t.target.closest(".btn--inline");if(n){var r=+n.dataset.goto;e(r)}}))}}])&&se(t.prototype,n),o}(H));function ye(t){return(ye="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?we(e):t}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(o,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _e(this,n)}}(o);function o(){var e;me(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Se(we(e=r.call.apply(r,[this].concat(n))),"_parentEl",document.querySelector(".bookmarks__list")),Se(we(e),"_errorMessage","No bookmarks yet. Find a nice recipe and bookmark it"),e}return t=o,(n=[{key:"_generateMarkup",value:function(){var e=this;return this._data.map((function(t){return e._generateMarkupPreview(t)}))}},{key:"_generateMarkupPreview",value:function(e){var t=document.location.hash.slice(1);return'<li class="preview">\n      <a class="preview__link" '.concat(e.id===t?"preview__link--active":""," href='#").concat(e.id,'\'>\n        <figure class="preview__fig">\n          <img src="').concat(e.img,'" alt="Test" />\n        </figure>\n        <div class="preview__data">\n          <h4 class="preview__title">').concat(e.title,'</h4>\n          <p class="preview__publisher">').concat(e.publisher,'</p>\n          <div class="preview__user-generated">\n            <svg>\n              <use href="').concat(q,'#icon-user"></use>\n            </svg>\n          </div>\n        </div>\n      </a>\n    </li>')}},{key:"addhandlerBookmark",value:function(e){window.addEventListener("load",e)}}])&&be(t.prototype,n),o}(H));function je(t){return(je="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?Me(e):t}function Me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(o,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fe(e);if(t){var o=Fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xe(this,n)}}(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Te(Me(e=r.call(this)),"_parentEl",document.querySelector(".upload")),Te(Me(e),"_overlay",document.querySelector(".overlay")),Te(Me(e),"_window",document.querySelector(".add-recipe-window")),Te(Me(e),"_btnclose",document.querySelector(".btn--close-modal")),Te(Me(e),"_addReceipe",document.querySelector(".nav__btn--add-recipe")),e._addHandlerHideWindow(),e._addHandlerShowWindow(),e}return t=o,(n=[{key:"toggleWindow",value:function(){this._overlay.classList.toggle("hidden"),this._window.classList.toggle("hidden")}},{key:"_addHandlerShowWindow",value:function(){this._addReceipe.addEventListener("click",this.toggleWindow.bind(this))}},{key:"_addHandlerHideWindow",value:function(){this._btnclose.addEventListener("click",this.toggleWindow.bind(this)),this._overlay.addEventListener("click",this.toggleWindow.bind(this))}},{key:"_addHandlerUpload",value:function(e){this._parentEl.addEventListener("submit",(function(t){t.preventDefault();var n=function(e){return function(e){if(Array.isArray(e))return Pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new FormData(this)),r=Object.fromEntries(n);e(r)}))}}])&&Ee(t.prototype,n),o}(H));function qe(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function He(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qe(i,r,o,a,c,"next",e)}function c(e){qe(i,r,o,a,c,"throw",e)}a(void 0)}))}}document.querySelector(".recipe");var Le=function(){var e=He(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window.location.hash.slice(1)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,k(t);case 6:B.showSpinner(),ae.update(O()),B.render(_.receipe),Oe.update(_.bookmark),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),B.renderErorrMessage(e.t0.status);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=He(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=K.getQuery(),e.next=3,S(t);case 3:ae.showSpinner(),ae.render(O()),ve.render(_.search);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=He(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ae.showSpinner(),e.next=4,x(t);case 4:B.render(_.receipe),Ae.renderMessage(),setTimeout((function(){Ae.toggleWindow()}),2500),Oe.render(_.bookmark),console.log(_.receipe),window.history.pushState(null,"","#".concat(_.receipe.id)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),Ae.renderErorrMessage(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();Oe.addhandlerBookmark((function(){Oe.render(_.bookmark)})),B.addHandlerReceipe(Le),B.addHandlerUpdateServings((function(e){!function(e){_.receipe.ingredients.forEach((function(t){t.quantity=t.quantity*e/_.receipe.serving})),_.receipe.serving=e}(e),B.update(_.receipe)})),B.addHandlerBookmark((function(){var e,t;_.receipe.bookmarked?(e=_.receipe.id,t=_.bookmark.findIndex((function(e){e.id})),_.bookmark.splice(t,1),e===_.receipe.id&&(_.receipe.bookmarked=!1),j()):P(_.receipe),B.update(_.receipe),Oe.render(_.bookmark)})),K.addHandlerSearch(De),ve.addHandlerClick((function(e){console.log(e),ae.render(O(e)),ve.render(_.search)})),Ae._addHandlerUpload(Ce)}()}();
//# sourceMappingURL=controller.fd3f414b.HASH_REF_f58fb91bbbc83d7fa6631104e9522dc9.js.map
